<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D | Jais George</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ============================
      HEADER
============================ -->
<!-- Header placeholder -->
<div id="header-container"></div>

<!-- ============================
      MOBILE MENU (auto-populated)
============================ -->
<div id="mobileMenu" class="mobile-menu-overlay" aria-hidden="true">
  <div class="mobile-menu-items" id="mobileMenuItems"></div>
</div>

<!-- ============================
      MAIN CONTENT
============================ -->
<main>

<h2 class="page-header">ABOUT</h2>    
  
<div class="bio-row">
    <div class="bio-photo">
      <img src="images/biopic.jpg" alt="Jais George">
      <img src="images/bilboadventure.jpg" alt="Jais George">
    </div>
    <div class="bio-text">
      <p>
       Jais grew up in Kerala, India, making art and devouring stories — from local literature and cinema to adventure tales from the west. When he left home for Texas, it was his first time travelling abroad and flying. He set out with nothing but a backpack and a tent, and on the way, hitchhiked in Japan. One of those nights, he slept in an abandoned building and woke up to a view of Mt. Fuji. <br><br> A week before that trip, Jais was working as an Assistant Director and Story Artist in Indian cinema, and before that, he was a Mechanical Engineer. His creative path spans a variety of media, and it’s these diverse experiences that inform and enrich his work. These days, he's focused on 3D, virtual production, and generative AI for filmmaking. He is constantly making things, enjoys making things happen, and isn’t afraid to take risks — he’s trusted a one-person tent more than he probably should have. Always ready for an unexpected journey!<br><br> jaisgeorge28@gmail.com
      </p>
    </div>
  </div>

<!-- ============================
      LIGHTBOX
============================ -->
<div id="lightbox" class="lightbox" aria-hidden="true">
  <span class="lightbox-close">&times;</span>
  <div class="lightbox-content">
    <span class="lightbox-prev">&#10094;</span>
    <img class="lightbox-img" src="" alt="">
    <span class="lightbox-next">&#10095;</span>
  </div>
  <p class="lightbox-desc"></p>
</div>

<!-- ============================
      FOOTER
============================ -->
<footer>
  <p>UNREAL ENGINE | BLENDER 3D | COMFYUI | HOUDINI | MAYA | TOUCHDESIGNER | VEX | PYTHON | C++ | ICVFX | AI | 3D PREVIZ | MOCAP | VIDEO PRODUCTION | FILM DIRECTION | ART DIRECTION</p>
  <p>&copy; 2025 Jais George</p>
</footer>

</main>

<!-- ============================
      SCRIPTS
============================ -->
<script>
// ============================
// HEADER COLLAPSE / MOBILE MENU
// ============================


document.addEventListener("DOMContentLoaded", () => {
  fetch('header.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('header-container').innerHTML = data;
      // Initialize header scripts after header is loaded
      initHeader();
    })
    .catch(err => console.error('Error loading header:', err));
});

  
function initHeader() {
  const header = document.querySelector("header");
  const headerRight = document.querySelector(".header-right");
  const menuButton = document.querySelector(".menu-icon");
  const closeButton = document.querySelector(".close-icon");
  const mobileMenu = document.getElementById("mobileMenu");
  const mobileMenuItems = document.getElementById("mobileMenuItems");
  const rightLinks = document.querySelectorAll(".header-right a");

  // Populate mobile menu
  rightLinks.forEach(link => {
    mobileMenuItems.appendChild(link.cloneNode(true));
  });

  // Toggle mobile menu open/close
  function openMenu() {
    mobileMenu.classList.add("open");
    header.classList.add("mobile-collapsed");
  }
  function closeMenu() {
    mobileMenu.classList.remove("open");
    header.classList.remove("mobile-collapsed");
  }

  // Menu button events
  menuButton.addEventListener("click", openMenu);
  closeButton.addEventListener("click", closeMenu);
  mobileMenu.addEventListener("click", e => {
    if (e.target === mobileMenu) closeMenu();
  });

  // Collapse logic based on screen width
  function checkHeaderCollapse() {
    const windowWidth = window.innerWidth;
    if (windowWidth <= 1024) {
      header.classList.add("mobile-collapsed");
    } else {
      header.classList.remove("mobile-collapsed");
    }
  }

  // Run on load & resize
  window.addEventListener("resize", checkHeaderCollapse);
  checkHeaderCollapse();


  // ============================
  // WORK DROPDOWN (desktop hover)
  // ============================
  const workLink = document.querySelector('.header-left a');
  const workDropdown = document.getElementById('workDropdown');

  function setupDropdown() {
    const desktopQuery = window.matchMedia('(min-width: 1024px)');

    if (desktopQuery.matches) {
      // Show on hover
      workLink.addEventListener('mouseenter', () => {
        workDropdown.style.display = 'flex';
      });

      // Hide when mouse leaves link
      workLink.addEventListener('mouseleave', () => {
        setTimeout(() => {
          if (!workDropdown.matches(':hover')) {
            workDropdown.style.display = 'none';
          }
        }, 50);
      });

      // Keep open if hovering dropdown
      workDropdown.addEventListener('mouseenter', () => {
        workDropdown.style.display = 'flex';
      });

      // Hide when leaving dropdown
      workDropdown.addEventListener('mouseleave', () => {
        workDropdown.style.display = 'none';
      });
    } else {
      // Hide dropdown on mobile
      workDropdown.style.display = 'none';
    }
  }

  // Setup on load
  setupDropdown();

  // Also update on resize
  window.addEventListener('resize', setupDropdown);


}
  
  
/* ============================================================
   HEADER SCROLL STATE
============================================================ */
const updateHeaderState = () => {
  if (window.scrollY > 10) document.body.classList.add("scrolled");
  else document.body.classList.remove("scrolled");
};
window.addEventListener("scroll", updateHeaderState);
updateHeaderState();

/* ============================================================
   THUMBNAIL HIGHLIGHT ON SCROLL
============================================================ */
const thumbnails = document.querySelectorAll(".thumb-nav a img");
const projects = document.querySelectorAll(".project");

function highlightThumbnail() {
  const scrollPos = window.scrollY + window.innerHeight * 0.3;
  projects.forEach((project, index) => {
    if (scrollPos >= project.offsetTop && scrollPos < project.offsetTop + project.offsetHeight) {
      thumbnails.forEach(t => t.classList.remove("active-thumb"));
      thumbnails[index]?.classList.add("active-thumb");
    }
  });
}
window.addEventListener("scroll", highlightThumbnail);
highlightThumbnail();

/* ============================================================
   COLLAGE BUILDER
============================================================ */
document.querySelectorAll(".collage").forEach(collage => {
  const imgs = [...collage.querySelectorAll("img")];
  const count = Number(collage.dataset.columns) || 3;

  collage.innerHTML = "";

  const columns = Array.from({ length: count }, () => {
    const col = document.createElement("div");
    col.classList.add("collage-column");
    collage.appendChild(col);
    return col;
  });

  imgs.forEach((img, i) => columns[i % count].appendChild(img));
});

/* ============================================================
   LIGHTBOX
============================================================ */
const lightbox = document.getElementById("lightbox");
const lightboxImg = document.querySelector(".lightbox-img");
const lightboxDesc = document.querySelector(".lightbox-desc");
let currentImages = [];
let currentIndex = 0;

function showImage() {
  const img = currentImages[currentIndex];
  lightboxImg.src = img.src;
  lightboxDesc.textContent = img.dataset.desc || "";
}

function openLightbox(img) {
  const collage = img.closest(".collage");
  currentImages = [...collage.querySelectorAll("img")];
  currentIndex = currentImages.indexOf(img);
  showImage();
  lightbox.style.display = "flex";
  lightbox.setAttribute("aria-hidden", "false");
}

document.querySelectorAll(".collage img").forEach(img =>
  img.addEventListener("click", () => openLightbox(img))
);

document.querySelector(".lightbox-close").addEventListener("click", () => {
  lightbox.style.display = "none";
  lightbox.setAttribute("aria-hidden", "true");
});

document.querySelector(".lightbox-prev").addEventListener("click", () => {
  currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
  showImage();
});

document.querySelector(".lightbox-next").addEventListener("click", () => {
  currentIndex = (currentIndex + 1) % currentImages.length;
  showImage();
});

lightbox.addEventListener("click", e => {
  if (e.target === lightbox) {
    lightbox.style.display = "none";
    lightbox.setAttribute("aria-hidden", "true");
  }
});

/* Keyboard support */
document.addEventListener("keydown", e => {
  if (lightbox.style.display === "flex") {
    if (e.key === "ArrowLeft") {
      currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
      showImage();
    } else if (e.key === "ArrowRight") {
      currentIndex = (currentIndex + 1) % currentImages.length;
      showImage();
    } else if (e.key === "Escape") {
      lightbox.style.display = "none";
      lightbox.setAttribute("aria-hidden", "true");
    }
  }
});



/* ============================================================
   SLIDESHOW
============================================================ */
function startSlideshow(slideshowId, interval = 3000) {
  const container = document.getElementById(slideshowId);
  const images = container.querySelectorAll('img');
  let index = 0;

  setInterval(() => {
    images[index].style.display = 'none';             // hide current
    index = (index + 1) % images.length;              // next image
    images[index].style.display = 'block';            // show next
  }, interval);
}

// Start both slideshows independently
startSlideshow('slideshow1', 1500);   
startSlideshow('slideshow2', 1500);  
startSlideshow('slideshow3', 1500);


  
// Load YouTube API only once
if (!window.youTubeAPIReady) {
  const tag = document.createElement("script");
  tag.src = "https://www.youtube.com/iframe_api";
  document.body.appendChild(tag);

  window.youTubeAPIReady = new Promise(resolve => {
    window.onYouTubeIframeAPIReady = resolve;
  });
}

// After API loads, initialize all video wrappers
window.youTubeAPIReady.then(() => {
  document.querySelectorAll(".video-wrapper").forEach(wrapper => {
    const thumbnail = wrapper.querySelector(".video-thumbnail");
    const playBtnWrapper = wrapper.querySelector(".play-button-wrapper"); // new clickable area
    let iframe = null;
    let player = null;
    let overlay = null;
    let isInitialized = false;

    playBtnWrapper.addEventListener("click", () => {
      if (!isInitialized) {
        const videoId = wrapper.dataset.videoId;

        // create iframe container
        iframe = document.createElement("div");
        iframe.className = "yt-frame";
        wrapper.appendChild(iframe);

        // create overlay to show thumbnail + play button
        overlay = document.createElement("div");
        overlay.className = "video-overlay";

        // move thumbnail and playBtnWrapper into overlay
        overlay.appendChild(thumbnail);
        overlay.appendChild(playBtnWrapper);
        wrapper.appendChild(overlay);

        // initialize YouTube player
        player = new YT.Player(iframe, {
          videoId,
          playerVars: { rel: 0, autoplay: 1, playsinline: 1 },
          events: {
            onStateChange: (e) => {
              if (e.data === YT.PlayerState.PAUSED) {
                if (wrapper.pauseTimer) clearTimeout(wrapper.pauseTimer);
                wrapper.pauseTimer = setTimeout(() => {
                  if (player.getPlayerState() === YT.PlayerState.PAUSED) {
                    overlay.style.display = "flex";
                  }
                }, 5000);
              } else if (e.data === YT.PlayerState.PLAYING) {
                if (wrapper.pauseTimer) clearTimeout(wrapper.pauseTimer);
                overlay.style.display = "none";
              }
            }
          }
        });

        // clicking overlay resumes video
        overlay.addEventListener("click", () => {
          player.playVideo();
          overlay.style.display = "none";
        });

        isInitialized = true;
      }

      // Always play video on click
      player.playVideo();
      overlay.style.display = "none";
    });
  });
});




</script>

</body>
</html>




